<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Voting</title>
    <script src="/static/script/voteHandler.js" defer></script>
    {% import "appLayout.html" as layout %}
    {% import "flashMacro.html" as f %}
</head>
<body>


{% call layout.appLayout() %}
    <div class="container">
        <label for="selector">
            Select a candidate
        </label>
        <select id="selector">
            {% for i in data %}
                <option value="{{ i[1] }}">{{ i[0] }}</option>
            {% endfor %}
        </select>
        {{ f.flashy() }}
    </div>
    {% for i in data %}
        <form class="hidden" id="{{ i[1] }}" action="/handleVote" method="post">
            <label class="hidden">
                <input class="hidden" value="{{ i[1] }}" name="candidate" type="text"/>
            </label>
            <ul>
                <li>
                    {{ i[0] }}
                </li>
                <li>
                    {{ i[1] }}
                </li>
                <li>
                    {{ i[2] }}
                </li>
            </ul>
            <button>Vote</button>
        </form>
    {% endfor %}
{% endcall %}

</body>
<style>
    button {
        width: 25%;
        padding: 10px;
        border: 1px solid #444;
        border-radius: 3px;
        background-color: #333;
        color: #eee;
        cursor: pointer;
    }

    .container {
        margin: 1rem;
    }
</style>
</html>